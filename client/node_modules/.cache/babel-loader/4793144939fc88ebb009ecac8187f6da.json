{"ast":null,"code":"/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/styles/border\n */\nimport { getShorthandValues, getBoxSidesValueReducer, getBoxSidesValues, isLength, isLineStyle } from './utils';\n/**\n * Adds a border CSS styles processing rules.\n *\n *\t\teditor.data.addStyleProcessorRules( addBorderRules );\n *\n * This rules merges all [border](https://developer.mozilla.org/en-US/docs/Web/CSS/border) styles notation shorthands:\n *\n * - border\n * - border-top\n * - border-right\n * - border-bottom\n * - border-left\n * - border-color\n * - border-style\n * - border-width\n *\n * and all corresponding longhand forms (like `border-top-color`, `border-top-style`, etc).\n *\n * It does not handle other shorthands (like `border-radius` or `border-image`).\n *\n * The normalized model stores border values as:\n *\n *\t\tconst styles = {\n *\t\t\tborder: {\n *\t\t\t\tcolor: { top, right, bottom, left },\n *\t\t\t\tstyle: { top, right, bottom, left },\n *\t\t\t\twidth: { top, right, bottom, left },\n *\t\t\t}\n *\t\t};\n *\n * The `border` value is reduced to a 4 values for each box edge (even if they could be further reduces to a single\n * `border:<width> <style> <color>` style.\n *\n * @param {module:engine/view/stylesmap~StylesProcessor} stylesProcessor\n */\n\nexport function addBorderRules(stylesProcessor) {\n  stylesProcessor.setNormalizer('border', borderNormalizer); // Border-position shorthands.\n\n  stylesProcessor.setNormalizer('border-top', getBorderPositionNormalizer('top'));\n  stylesProcessor.setNormalizer('border-right', getBorderPositionNormalizer('right'));\n  stylesProcessor.setNormalizer('border-bottom', getBorderPositionNormalizer('bottom'));\n  stylesProcessor.setNormalizer('border-left', getBorderPositionNormalizer('left')); // Border-property shorthands.\n\n  stylesProcessor.setNormalizer('border-color', getBorderPropertyNormalizer('color'));\n  stylesProcessor.setNormalizer('border-width', getBorderPropertyNormalizer('width'));\n  stylesProcessor.setNormalizer('border-style', getBorderPropertyNormalizer('style')); // Border longhands.\n\n  stylesProcessor.setNormalizer('border-top-color', getBorderPropertyPositionNormalizer('color', 'top'));\n  stylesProcessor.setNormalizer('border-top-style', getBorderPropertyPositionNormalizer('style', 'top'));\n  stylesProcessor.setNormalizer('border-top-width', getBorderPropertyPositionNormalizer('width', 'top'));\n  stylesProcessor.setNormalizer('border-right-color', getBorderPropertyPositionNormalizer('color', 'right'));\n  stylesProcessor.setNormalizer('border-right-style', getBorderPropertyPositionNormalizer('style', 'right'));\n  stylesProcessor.setNormalizer('border-right-width', getBorderPropertyPositionNormalizer('width', 'right'));\n  stylesProcessor.setNormalizer('border-bottom-color', getBorderPropertyPositionNormalizer('color', 'bottom'));\n  stylesProcessor.setNormalizer('border-bottom-style', getBorderPropertyPositionNormalizer('style', 'bottom'));\n  stylesProcessor.setNormalizer('border-bottom-width', getBorderPropertyPositionNormalizer('width', 'bottom'));\n  stylesProcessor.setNormalizer('border-left-color', getBorderPropertyPositionNormalizer('color', 'left'));\n  stylesProcessor.setNormalizer('border-left-style', getBorderPropertyPositionNormalizer('style', 'left'));\n  stylesProcessor.setNormalizer('border-left-width', getBorderPropertyPositionNormalizer('width', 'left'));\n  stylesProcessor.setExtractor('border-top', getBorderPositionExtractor('top'));\n  stylesProcessor.setExtractor('border-right', getBorderPositionExtractor('right'));\n  stylesProcessor.setExtractor('border-bottom', getBorderPositionExtractor('bottom'));\n  stylesProcessor.setExtractor('border-left', getBorderPositionExtractor('left'));\n  stylesProcessor.setExtractor('border-top-color', 'border.color.top');\n  stylesProcessor.setExtractor('border-right-color', 'border.color.right');\n  stylesProcessor.setExtractor('border-bottom-color', 'border.color.bottom');\n  stylesProcessor.setExtractor('border-left-color', 'border.color.left');\n  stylesProcessor.setExtractor('border-top-width', 'border.width.top');\n  stylesProcessor.setExtractor('border-right-width', 'border.width.right');\n  stylesProcessor.setExtractor('border-bottom-width', 'border.width.bottom');\n  stylesProcessor.setExtractor('border-left-width', 'border.width.left');\n  stylesProcessor.setExtractor('border-top-style', 'border.style.top');\n  stylesProcessor.setExtractor('border-right-style', 'border.style.right');\n  stylesProcessor.setExtractor('border-bottom-style', 'border.style.bottom');\n  stylesProcessor.setExtractor('border-left-style', 'border.style.left');\n  stylesProcessor.setReducer('border-color', getBoxSidesValueReducer('border-color'));\n  stylesProcessor.setReducer('border-style', getBoxSidesValueReducer('border-style'));\n  stylesProcessor.setReducer('border-width', getBoxSidesValueReducer('border-width'));\n  stylesProcessor.setReducer('border-top', getBorderPositionReducer('top'));\n  stylesProcessor.setReducer('border-right', getBorderPositionReducer('right'));\n  stylesProcessor.setReducer('border-bottom', getBorderPositionReducer('bottom'));\n  stylesProcessor.setReducer('border-left', getBorderPositionReducer('left'));\n  stylesProcessor.setReducer('border', borderReducer);\n  stylesProcessor.setStyleRelation('border', ['border-color', 'border-style', 'border-width', 'border-top', 'border-right', 'border-bottom', 'border-left', 'border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color', 'border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style', 'border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width']);\n  stylesProcessor.setStyleRelation('border-color', ['border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color']);\n  stylesProcessor.setStyleRelation('border-style', ['border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style']);\n  stylesProcessor.setStyleRelation('border-width', ['border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width']);\n  stylesProcessor.setStyleRelation('border-top', ['border-top-color', 'border-top-style', 'border-top-width']);\n  stylesProcessor.setStyleRelation('border-right', ['border-right-color', 'border-right-style', 'border-right-width']);\n  stylesProcessor.setStyleRelation('border-bottom', ['border-bottom-color', 'border-bottom-style', 'border-bottom-width']);\n  stylesProcessor.setStyleRelation('border-left', ['border-left-color', 'border-left-style', 'border-left-width']);\n}\n\nfunction borderNormalizer(value) {\n  const {\n    color,\n    style,\n    width\n  } = normalizeBorderShorthand(value);\n  return {\n    path: 'border',\n    value: {\n      color: getBoxSidesValues(color),\n      style: getBoxSidesValues(style),\n      width: getBoxSidesValues(width)\n    }\n  };\n}\n\nfunction getBorderPositionNormalizer(side) {\n  return value => {\n    const {\n      color,\n      style,\n      width\n    } = normalizeBorderShorthand(value);\n    const border = {};\n\n    if (color !== undefined) {\n      border.color = {\n        [side]: color\n      };\n    }\n\n    if (style !== undefined) {\n      border.style = {\n        [side]: style\n      };\n    }\n\n    if (width !== undefined) {\n      border.width = {\n        [side]: width\n      };\n    }\n\n    return {\n      path: 'border',\n      value: border\n    };\n  };\n}\n\nfunction getBorderPropertyNormalizer(propertyName) {\n  return value => {\n    return {\n      path: 'border',\n      value: toBorderPropertyShorthand(value, propertyName)\n    };\n  };\n}\n\nfunction toBorderPropertyShorthand(value, property) {\n  return {\n    [property]: getBoxSidesValues(value)\n  };\n}\n\nfunction getBorderPropertyPositionNormalizer(property, side) {\n  return value => {\n    return {\n      path: 'border',\n      value: {\n        [property]: {\n          [side]: value\n        }\n      }\n    };\n  };\n}\n\nfunction getBorderPositionExtractor(which) {\n  return (name, styles) => {\n    if (styles.border) {\n      return extractBorderPosition(styles.border, which);\n    }\n  };\n}\n\nfunction extractBorderPosition(border, which) {\n  const value = {};\n\n  if (border.width && border.width[which]) {\n    value.width = border.width[which];\n  }\n\n  if (border.style && border.style[which]) {\n    value.style = border.style[which];\n  }\n\n  if (border.color && border.color[which]) {\n    value.color = border.color[which];\n  }\n\n  return value;\n}\n\nfunction normalizeBorderShorthand(string) {\n  const result = {};\n  const parts = getShorthandValues(string);\n\n  for (const part of parts) {\n    if (isLength(part) || /thin|medium|thick/.test(part)) {\n      result.width = part;\n    } else if (isLineStyle(part)) {\n      result.style = part;\n    } else {\n      result.color = part;\n    }\n  }\n\n  return result;\n}\n\nfunction borderReducer(value) {\n  const reduced = [];\n  reduced.push(...reduceBorderPosition(extractBorderPosition(value, 'top'), 'top'));\n  reduced.push(...reduceBorderPosition(extractBorderPosition(value, 'right'), 'right'));\n  reduced.push(...reduceBorderPosition(extractBorderPosition(value, 'bottom'), 'bottom'));\n  reduced.push(...reduceBorderPosition(extractBorderPosition(value, 'left'), 'left'));\n  return reduced;\n}\n\nfunction getBorderPositionReducer(which) {\n  return value => reduceBorderPosition(value, which);\n}\n\nfunction reduceBorderPosition(value, which) {\n  const reduced = [];\n\n  if (value && value.width !== undefined) {\n    reduced.push(value.width);\n  }\n\n  if (value && value.style !== undefined) {\n    reduced.push(value.style);\n  }\n\n  if (value && value.color !== undefined) {\n    reduced.push(value.color);\n  }\n\n  if (reduced.length) {\n    return [[`border-${which}`, reduced.join(' ')]];\n  }\n\n  return [];\n}","map":{"version":3,"sources":["/Users/subhasis/Desktop/React/Citryl/client/node_modules/@ckeditor/ckeditor5-engine/src/view/styles/border.js"],"names":["getShorthandValues","getBoxSidesValueReducer","getBoxSidesValues","isLength","isLineStyle","addBorderRules","stylesProcessor","setNormalizer","borderNormalizer","getBorderPositionNormalizer","getBorderPropertyNormalizer","getBorderPropertyPositionNormalizer","setExtractor","getBorderPositionExtractor","setReducer","getBorderPositionReducer","borderReducer","setStyleRelation","value","color","style","width","normalizeBorderShorthand","path","side","border","undefined","propertyName","toBorderPropertyShorthand","property","which","name","styles","extractBorderPosition","string","result","parts","part","test","reduced","push","reduceBorderPosition","length","join"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/styles/border\n */\n\nimport { getShorthandValues, getBoxSidesValueReducer, getBoxSidesValues, isLength, isLineStyle } from './utils';\n\n/**\n * Adds a border CSS styles processing rules.\n *\n *\t\teditor.data.addStyleProcessorRules( addBorderRules );\n *\n * This rules merges all [border](https://developer.mozilla.org/en-US/docs/Web/CSS/border) styles notation shorthands:\n *\n * - border\n * - border-top\n * - border-right\n * - border-bottom\n * - border-left\n * - border-color\n * - border-style\n * - border-width\n *\n * and all corresponding longhand forms (like `border-top-color`, `border-top-style`, etc).\n *\n * It does not handle other shorthands (like `border-radius` or `border-image`).\n *\n * The normalized model stores border values as:\n *\n *\t\tconst styles = {\n *\t\t\tborder: {\n *\t\t\t\tcolor: { top, right, bottom, left },\n *\t\t\t\tstyle: { top, right, bottom, left },\n *\t\t\t\twidth: { top, right, bottom, left },\n *\t\t\t}\n *\t\t};\n *\n * The `border` value is reduced to a 4 values for each box edge (even if they could be further reduces to a single\n * `border:<width> <style> <color>` style.\n *\n * @param {module:engine/view/stylesmap~StylesProcessor} stylesProcessor\n */\nexport function addBorderRules( stylesProcessor ) {\n\tstylesProcessor.setNormalizer( 'border', borderNormalizer );\n\n\t// Border-position shorthands.\n\tstylesProcessor.setNormalizer( 'border-top', getBorderPositionNormalizer( 'top' ) );\n\tstylesProcessor.setNormalizer( 'border-right', getBorderPositionNormalizer( 'right' ) );\n\tstylesProcessor.setNormalizer( 'border-bottom', getBorderPositionNormalizer( 'bottom' ) );\n\tstylesProcessor.setNormalizer( 'border-left', getBorderPositionNormalizer( 'left' ) );\n\n\t// Border-property shorthands.\n\tstylesProcessor.setNormalizer( 'border-color', getBorderPropertyNormalizer( 'color' ) );\n\tstylesProcessor.setNormalizer( 'border-width', getBorderPropertyNormalizer( 'width' ) );\n\tstylesProcessor.setNormalizer( 'border-style', getBorderPropertyNormalizer( 'style' ) );\n\n\t// Border longhands.\n\tstylesProcessor.setNormalizer( 'border-top-color', getBorderPropertyPositionNormalizer( 'color', 'top' ) );\n\tstylesProcessor.setNormalizer( 'border-top-style', getBorderPropertyPositionNormalizer( 'style', 'top' ) );\n\tstylesProcessor.setNormalizer( 'border-top-width', getBorderPropertyPositionNormalizer( 'width', 'top' ) );\n\n\tstylesProcessor.setNormalizer( 'border-right-color', getBorderPropertyPositionNormalizer( 'color', 'right' ) );\n\tstylesProcessor.setNormalizer( 'border-right-style', getBorderPropertyPositionNormalizer( 'style', 'right' ) );\n\tstylesProcessor.setNormalizer( 'border-right-width', getBorderPropertyPositionNormalizer( 'width', 'right' ) );\n\n\tstylesProcessor.setNormalizer( 'border-bottom-color', getBorderPropertyPositionNormalizer( 'color', 'bottom' ) );\n\tstylesProcessor.setNormalizer( 'border-bottom-style', getBorderPropertyPositionNormalizer( 'style', 'bottom' ) );\n\tstylesProcessor.setNormalizer( 'border-bottom-width', getBorderPropertyPositionNormalizer( 'width', 'bottom' ) );\n\n\tstylesProcessor.setNormalizer( 'border-left-color', getBorderPropertyPositionNormalizer( 'color', 'left' ) );\n\tstylesProcessor.setNormalizer( 'border-left-style', getBorderPropertyPositionNormalizer( 'style', 'left' ) );\n\tstylesProcessor.setNormalizer( 'border-left-width', getBorderPropertyPositionNormalizer( 'width', 'left' ) );\n\n\tstylesProcessor.setExtractor( 'border-top', getBorderPositionExtractor( 'top' ) );\n\tstylesProcessor.setExtractor( 'border-right', getBorderPositionExtractor( 'right' ) );\n\tstylesProcessor.setExtractor( 'border-bottom', getBorderPositionExtractor( 'bottom' ) );\n\tstylesProcessor.setExtractor( 'border-left', getBorderPositionExtractor( 'left' ) );\n\n\tstylesProcessor.setExtractor( 'border-top-color', 'border.color.top' );\n\tstylesProcessor.setExtractor( 'border-right-color', 'border.color.right' );\n\tstylesProcessor.setExtractor( 'border-bottom-color', 'border.color.bottom' );\n\tstylesProcessor.setExtractor( 'border-left-color', 'border.color.left' );\n\n\tstylesProcessor.setExtractor( 'border-top-width', 'border.width.top' );\n\tstylesProcessor.setExtractor( 'border-right-width', 'border.width.right' );\n\tstylesProcessor.setExtractor( 'border-bottom-width', 'border.width.bottom' );\n\tstylesProcessor.setExtractor( 'border-left-width', 'border.width.left' );\n\n\tstylesProcessor.setExtractor( 'border-top-style', 'border.style.top' );\n\tstylesProcessor.setExtractor( 'border-right-style', 'border.style.right' );\n\tstylesProcessor.setExtractor( 'border-bottom-style', 'border.style.bottom' );\n\tstylesProcessor.setExtractor( 'border-left-style', 'border.style.left' );\n\n\tstylesProcessor.setReducer( 'border-color', getBoxSidesValueReducer( 'border-color' ) );\n\tstylesProcessor.setReducer( 'border-style', getBoxSidesValueReducer( 'border-style' ) );\n\tstylesProcessor.setReducer( 'border-width', getBoxSidesValueReducer( 'border-width' ) );\n\tstylesProcessor.setReducer( 'border-top', getBorderPositionReducer( 'top' ) );\n\tstylesProcessor.setReducer( 'border-right', getBorderPositionReducer( 'right' ) );\n\tstylesProcessor.setReducer( 'border-bottom', getBorderPositionReducer( 'bottom' ) );\n\tstylesProcessor.setReducer( 'border-left', getBorderPositionReducer( 'left' ) );\n\tstylesProcessor.setReducer( 'border', borderReducer );\n\n\tstylesProcessor.setStyleRelation( 'border', [\n\t\t'border-color', 'border-style', 'border-width',\n\t\t'border-top', 'border-right', 'border-bottom', 'border-left',\n\t\t'border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color',\n\t\t'border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style',\n\t\t'border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width'\n\t] );\n\n\tstylesProcessor.setStyleRelation( 'border-color', [\n\t\t'border-top-color', 'border-right-color', 'border-bottom-color', 'border-left-color'\n\t] );\n\tstylesProcessor.setStyleRelation( 'border-style', [\n\t\t'border-top-style', 'border-right-style', 'border-bottom-style', 'border-left-style'\n\t] );\n\tstylesProcessor.setStyleRelation( 'border-width', [\n\t\t'border-top-width', 'border-right-width', 'border-bottom-width', 'border-left-width'\n\t] );\n\n\tstylesProcessor.setStyleRelation( 'border-top', [ 'border-top-color', 'border-top-style', 'border-top-width' ] );\n\tstylesProcessor.setStyleRelation( 'border-right', [ 'border-right-color', 'border-right-style', 'border-right-width' ] );\n\tstylesProcessor.setStyleRelation( 'border-bottom', [ 'border-bottom-color', 'border-bottom-style', 'border-bottom-width' ] );\n\tstylesProcessor.setStyleRelation( 'border-left', [ 'border-left-color', 'border-left-style', 'border-left-width' ] );\n}\n\nfunction borderNormalizer( value ) {\n\tconst { color, style, width } = normalizeBorderShorthand( value );\n\n\treturn {\n\t\tpath: 'border',\n\t\tvalue: {\n\t\t\tcolor: getBoxSidesValues( color ),\n\t\t\tstyle: getBoxSidesValues( style ),\n\t\t\twidth: getBoxSidesValues( width )\n\t\t}\n\t};\n}\n\nfunction getBorderPositionNormalizer( side ) {\n\treturn value => {\n\t\tconst { color, style, width } = normalizeBorderShorthand( value );\n\n\t\tconst border = {};\n\n\t\tif ( color !== undefined ) {\n\t\t\tborder.color = { [ side ]: color };\n\t\t}\n\n\t\tif ( style !== undefined ) {\n\t\t\tborder.style = { [ side ]: style };\n\t\t}\n\n\t\tif ( width !== undefined ) {\n\t\t\tborder.width = { [ side ]: width };\n\t\t}\n\n\t\treturn {\n\t\t\tpath: 'border',\n\t\t\tvalue: border\n\t\t};\n\t};\n}\n\nfunction getBorderPropertyNormalizer( propertyName ) {\n\treturn value => {\n\t\treturn {\n\t\t\tpath: 'border',\n\t\t\tvalue: toBorderPropertyShorthand( value, propertyName )\n\t\t};\n\t};\n}\n\nfunction toBorderPropertyShorthand( value, property ) {\n\treturn {\n\t\t[ property ]: getBoxSidesValues( value )\n\t};\n}\n\nfunction getBorderPropertyPositionNormalizer( property, side ) {\n\treturn value => {\n\t\treturn {\n\t\t\tpath: 'border',\n\t\t\tvalue: {\n\t\t\t\t[ property ]: {\n\t\t\t\t\t[ side ]: value\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n}\n\nfunction getBorderPositionExtractor( which ) {\n\treturn ( name, styles ) => {\n\t\tif ( styles.border ) {\n\t\t\treturn extractBorderPosition( styles.border, which );\n\t\t}\n\t};\n}\n\nfunction extractBorderPosition( border, which ) {\n\tconst value = {};\n\n\tif ( border.width && border.width[ which ] ) {\n\t\tvalue.width = border.width[ which ];\n\t}\n\n\tif ( border.style && border.style[ which ] ) {\n\t\tvalue.style = border.style[ which ];\n\t}\n\n\tif ( border.color && border.color[ which ] ) {\n\t\tvalue.color = border.color[ which ];\n\t}\n\n\treturn value;\n}\n\nfunction normalizeBorderShorthand( string ) {\n\tconst result = {};\n\n\tconst parts = getShorthandValues( string );\n\n\tfor ( const part of parts ) {\n\t\tif ( isLength( part ) || /thin|medium|thick/.test( part ) ) {\n\t\t\tresult.width = part;\n\t\t} else if ( isLineStyle( part ) ) {\n\t\t\tresult.style = part;\n\t\t} else {\n\t\t\tresult.color = part;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction borderReducer( value ) {\n\tconst reduced = [];\n\n\treduced.push( ...reduceBorderPosition( extractBorderPosition( value, 'top' ), 'top' ) );\n\treduced.push( ...reduceBorderPosition( extractBorderPosition( value, 'right' ), 'right' ) );\n\treduced.push( ...reduceBorderPosition( extractBorderPosition( value, 'bottom' ), 'bottom' ) );\n\treduced.push( ...reduceBorderPosition( extractBorderPosition( value, 'left' ), 'left' ) );\n\n\treturn reduced;\n}\n\nfunction getBorderPositionReducer( which ) {\n\treturn value => reduceBorderPosition( value, which );\n}\n\nfunction reduceBorderPosition( value, which ) {\n\tconst reduced = [];\n\n\tif ( value && value.width !== undefined ) {\n\t\treduced.push( value.width );\n\t}\n\n\tif ( value && value.style !== undefined ) {\n\t\treduced.push( value.style );\n\t}\n\n\tif ( value && value.color !== undefined ) {\n\t\treduced.push( value.color );\n\t}\n\n\tif ( reduced.length ) {\n\t\treturn [ [ `border-${ which }`, reduced.join( ' ' ) ] ];\n\t}\n\n\treturn [];\n}\n"]},"metadata":{},"sourceType":"module"}